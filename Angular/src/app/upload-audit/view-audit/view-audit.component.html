<!-- outside div body wrapper to make sure tab bar doesnt push down content -->

<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css"> -->

</head>
<div id="body">
    <mat-card>
        <div id="top-buttons" fxLayoutAlign="end center">
            <button mat-button [routerLink]="'/upload-audit'">
                Cancel
            </button>
            <button mat-button id="save-button" [routerLink]="'/upload-audit'">
                Save
            </button>
        </div>
        <mat-card-header>
            <div id="name">
                {{audit.auditName}}
            </div>
        </mat-card-header>
        <mat-card-subtitle>
            <button mat-button (click)="openGlobalPresets()">
                Global Presets
            </button>
            <button mat-button (click)="openRootFeatures()">
                Add Root Features
            </button>
            <button mat-button (click)="openFeatureAudit()">
                see feature audit component (temp)
            </button>
        </mat-card-subtitle>

    </mat-card>

<div style="width: 90%; margin-left: 5%;">
    <mat-accordion>
        <div *ngFor="let audit of audits">
            <div *ngFor="let feature of audit.features">
                <div *ngIf="feature.included">
                    <mat-expansion-panel>
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                <span style="margin-left: 15px;">
                                    {{ feature.name }}
                                </span>
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <ngx-datatable
                        class="material"
                        [rows]="feature.actions"
                        columnMode="force"
                        [headerHeight]="50"
                        [footerHeight]="50"
                        rowHeight="auto"
                        [scrollbarH]="false"
                        [limit]="5"
                        >
                        <ngx-datatable-column *ngFor="let col of columns" [prop]="getProp(col)" [name]="col"></ngx-datatable-column>
                        </ngx-datatable>
                    </mat-expansion-panel>
                </div>

            </div>
        </div>
    </mat-accordion>

</div>

    </div>

    <div style="padding-bottom: 40px;"></div>