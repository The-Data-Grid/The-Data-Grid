<body>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <div id="wrapper">
        <header>
            <nav mat-tab-nav-bar>
                <div style="min-width: 200px" *ngIf="!authService.isLoggedIn" routerLink=""
                    routerLinkActive="activeButton" mat-tab-link id="" [routerLinkActiveOptions]="{exact: true}"
                    #rla1="routerLinkActive" [active]="rla1.isActive">
                    <div>
                        <!--
                            <img src="../../favicon.png" alt="tdg logo" style="padding: 4px; height: 20px; width: 20px; float: left;">
                        -->
                        <img src="/assets/logo.png" alt="tdg logo" class="no-drag"
                            style="padding: 4px; height: 37px; float: left;">
                    </div>
                </div>
                <div *ngIf="authService.isLoggedIn" routerLink="" routerLinkActive="activeButton" mat-tab-link
                    id="logo-button" [routerLinkActiveOptions]="{exact: true}" #rla1="routerLinkActive"
                    [active]="rla1.isActive">
                    <div>
                        <!--
                            <img src="../../favicon.png" alt="tdg logo" style="padding: 4px; height: 20px; width: 20px; float: left;">
                        -->
                        <img src="/assets/logo.png" alt="tdg logo"
                            style="padding: 4px; height: 27px; float: left; margin-top: 3px">
                    </div>
                    <div
                        style="float: right; margin-left: 20px; font-size:small; border-radius: 5px; padding-right: 8px; padding-left: 8px; padding-top: 9px; padding-bottom:5px; margin-bottom: 6px; margin-top:6px; border: 1px solid rgb(86 156 215); color: rgb(86 156 215)">
                        UCLA Audits
                    </div>
                </div>

                <!-- <app-dropdown [routerLink]="'/about'" routerLinkActive="activeButton"
               [routerLinkActiveOptions]="{exact: true}" #rla5="routerLinkActive" [active]="rla5.isActive"></app-dropdown> -->

                <!-- <app-dropdown mat-tab-link [routerLink]="'/upload-files'" id="logo-button" routerLinkActive="activeButton"
               [routerLinkActiveOptions]="{exact: true}" #rla8="routerLinkActive" [active]="rla8.isActive"></app-dropdown> -->
                <div *ngIf="authService.isLoggedIn">
                    <a mat-tab-link routerLinkActive="activeButton" [routerLinkActiveOptions]="{exact: true}"
                        #rla7="routerLinkActive" [active]="rla7.isActive" routerLink="/audit" style="min-width: 150px">
                        <span *ngIf="currentWindowWidth >= 700">Audit Dashboard</span>
                        <mat-icon *ngIf="currentWindowWidth < 700">dashboard</mat-icon>
                        <!--
                        <mat-menu #menu="matMenu" [overlapTrigger]="true" class="customize" style="position: absolute;">
                            <span (mouseenter)="recheckIfInMenu = true"
                                (mouseleave)="closeResourceMenu(0); recheckIfInMenu = false">
                                <button mat-menu-item routerLink="/upload-audit"
                                    (mouseover)="adjustDropdownHover(4)" (mouseout)="adjustDropdownHover(4)"
                                    [ngStyle]="{'background-color': isActiveButton('/upload-files',4)}">
                                    Online Audit
                                </button>
                                <button mat-menu-item routerLink="/download" (mouseover)="adjustDropdownHover(5)"
                                    (mouseout)="adjustDropdownHover(5)"
                                    [ngStyle]="{'background-color': isActiveButton('/download',5)}">
                                    Offline Audit
                                </button>
                            </span>
                        </mat-menu>
                        <mat-menu #_menu="matMenu" [overlapTrigger]="true" class="customize"
                        style="position: absolute;">
                            <span (mouseenter)="recheckIfInMenu3 = true"
                                (mouseleave)="closeResourceMenu(3); recheckIfInMenu3 = false">
                                <button mat-menu-item routerLink="/upload-audit"
                                    (mouseover)="adjustDropdownHover(4)" (mouseout)="adjustDropdownHover(4)"
                                    [ngStyle]="{'background-color': isActiveButton('/upload-files',4)}">
                                    Online Audit
                                </button>
                                <button mat-menu-item routerLink="/download" (mouseover)="adjustDropdownHover(5)"
                                    (mouseout)="adjustDropdownHover(5)"
                                    [ngStyle]="{'background-color': isActiveButton('/download',5)}">
                                    Offline Audit
                                </button>
                            </span>
                        </mat-menu>
                    -->
                    </a>
                </div>
                <div *ngIf="authService.isLoggedIn">
                    <a mat-tab-link routerLinkActive="activeButton" [routerLinkActiveOptions]="{exact: true}"
                        #rla6="routerLinkActive" [active]="rla6.isActive" routerLink="/manage" style="min-width: 150px">
                        <span *ngIf="currentWindowWidth >= 700">Organization Management</span>
                        <mat-icon *ngIf="currentWindowWidth < 700">people</mat-icon>
                    </a>
                </div>
                <a mat-tab-link routerLink="/table" routerLinkActive="activeButton"
                    [routerLinkActiveOptions]="{exact: true}" #rla2="routerLinkActive" [active]="rla2.isActive"
                    style="min-width: 150px">
                    <mat-icon >pageview</mat-icon>
                    <span class="header-link"> Query Data </span>
                </a>
                <a mat-tab-link routerLink="/generate" routerLinkActive="activeButton"
                    [routerLinkActiveOptions]="{exact: true}" #rlagen="routerLinkActive" [active]="rlagen.isActive"
                    style="min-width: 180px">
                    <mat-icon >storage</mat-icon>
                    <span class="header-link"> Generate Database </span>
                </a>

                <!-- <a mat-tab-link routerLinkActive="activeButton" [routerLinkActiveOptions]="{exact: true}"
                    #rla2="routerLinkActive" [active]="rla2.isActive">
                    <span *ngIf="currentWindowWidth >= 700"> Get Involved </span>
                    <i *ngIf="currentWindowWidth < 700" class="fa fa-bar-chart" style="font-size: 20px;"></i>
                </a> -->
                <a mat-tab-link routerLink="/about" routerLinkActive="activeButton"
                    [routerLinkActiveOptions]="{exact: true}" #rla3="routerLinkActive" [active]="rla3.isActive"
                    style="min-width: 130px">
                    <mat-icon >info</mat-icon>
                    <span class="header-link"> About </span>
                </a>

                <div>
                    <a mat-tab-link routerLinkActive="activeB utton" [routerLinkActiveOptions]="{exact: true}"
                        #rla9="routerLinkActive" [active]="rla9.isActive" routerLink="/guide"
                        style="overflow: hidden; min-width: 170px;">
                        <button [matMenuTriggerFor]="menu__" #menuTrigger="matMenuTrigger"
                            (mouseenter)="openResourceMenu(0); recheckIfInMenu = true"
                            (mouseleave)="closeResourceMenu(0); recheckIfInMenu = false" class="upload" 
                            style="display: inline-flex;
                            justify-content: center;
                            align-items: center;">
                            <mat-icon >description</mat-icon>
                            <span class="header-link"> User Guide </span>
                        </button>
                        <mat-menu #menu__="matMenu" [overlapTrigger]="false" class="customize2">
                            <span (mouseenter)="recheckIfInMenu = true"
                                (mouseleave)="closeResourceMenu(0); recheckIfInMenu = false">
                                <button mat-menu-item routerLink="/guide/schema" (mouseover)="adjustDropdownHover(4)"
                                    (mouseout)="adjustDropdownHover(4)"
                                    [ngStyle]="{'background-color': isActiveButton('/about',4)}">
                                    Custom Schemas
                                </button>
                                <button mat-menu-item routerLink="/guide/manage" (mouseover)="adjustDropdownHover(5)"
                                    (mouseout)="adjustDropdownHover(5)"
                                    [ngStyle]="{'background-color': isActiveButton('/throwaway',5)}">
                                    Organization Management
                                </button>
                                <button mat-menu-item routerLink="/guide/upload" (mouseover)="adjustDropdownHover(6)"
                                    (mouseout)="adjustDropdownHover(6)"
                                    [ngStyle]="{'background-color': isActiveButton('/throwaway2',6)}">
                                    Data Upload
                                </button>
                                <button mat-menu-item routerLink="/guide/query" (mouseover)="adjustDropdownHover(7)"
                                    (mouseout)="adjustDropdownHover(7)"
                                    [ngStyle]="{'background-color': isActiveButton('/throwaway2',7)}">
                                    Querying the Database
                                </button>
                            </span>
                        </mat-menu>
                        <!-- <mat-menu #__menu="matMenu" [overlapTrigger]="false" class="customize">
                            <span (mouseenter)="recheckIfInMenu3 = true"
                                (mouseleave)="closeResourceMenu(2); recheckIfInMenu3 = false">
                                <button [routerLink]="'/profile'" class="dropdown-btn" mat-menu-item
                                    (mouseover)="adjustDropdownHover(6)" (mouseout)="adjustDropdownHover(6)"
                                    [ngStyle]="{'background-color': isActiveButton('/throwaway',6)}">
                                    My Account
                                </button>
                                <button [routerLink]="'/settings'" class="dropdown-btn" mat-menu-item
                                    (mouseover)="adjustDropdownHover(7)" (mouseout)="adjustDropdownHover(7)"
                                    [ngStyle]="{'background-color': isActiveButton('/throwaway',7)}">
                                    Settings
                                </button>
                                <button (click)="logOut()" class="dropdown-btn" mat-menu-item
                                    (mouseover)="adjustDropdownHover(8)" (mouseout)="adjustDropdownHover(8)"
                                    [ngStyle]="{'background-color': isActiveButton('/throwaway',8)}">
                                    Log Out
                                </button>
                            </span>
                        </mat-menu> -->
                    </a>
                </div>

                <div style="margin-left: auto;">
                    <a mat-tab-link routerLinkActive="activeButton" [routerLinkActiveOptions]="{exact: true}"
                        #rla9="routerLinkActive" [active]="rla9.isActive" style="overflow: hidden; min-width: 0px;">
                        <!--<span class="example-spacer"></span> -->

                        <a *ngIf="!authService.isLoggedIn" mat-tab-link (click)="openDialog()">
                            <span *ngIf="currentWindowWidth >= 700" style="font-weight: bold"> Log In </span>
                            <mat-icon *ngIf="currentWindowWidth < 700">person_add</mat-icon>
                        </a>
                        <a *ngIf="authService.isLoggedIn" mat-tab-link (click)="logOut()">
                            <button class="upload">
                                <span *ngIf="currentWindowWidth >= 700" style="font-weight: bold">Log Out</span>
                                <mat-icon *ngIf="currentWindowWidth < 700">exit_to_app</mat-icon>

                            </button>
                        </a>
                        <!--
                        <mat-menu #__menu="matMenu" [overlapTrigger]="false" class="customize">
                            <span (mouseenter)="recheckIfInMenu3 = true"
                                (mouseleave)="closeResourceMenu(2); recheckIfInMenu3 = false">
                                <button [routerLink]="'/profile'" class="dropdown-btn" mat-menu-item
                                    (mouseover)="adjustDropdownHover(6)" (mouseout)="adjustDropdownHover(6)"
                                    [ngStyle]="{'background-color': isActiveButton('/throwaway',6)}">
                                    My Account
                                </button>
                                <button [routerLink]="'/settings'" class="dropdown-btn" mat-menu-item
                                    (mouseover)="adjustDropdownHover(7)" (mouseout)="adjustDropdownHover(7)"
                                    [ngStyle]="{'background-color': isActiveButton('/throwaway',7)}">
                                    Settings
                                </button>
                                <button (click)="logOut()" class="dropdown-btn" mat-menu-item
                                    (mouseover)="adjustDropdownHover(8)" (mouseout)="adjustDropdownHover(8)"
                                    [ngStyle]="{'background-color': isActiveButton('/throwaway',8)}">
                                    Log Out
                                </button>
                            </span>
                        </mat-menu>
                    -->
                    </a>
                </div>


                <!-- <a *ngIf="checkStorage()" mat-tab-link [routerLink]="'/profile-page'" routerLinkActive="activeButton"
                   [routerLinkActiveOptions]="{exact: true}" #rla7="routerLinkActive" [active]="rla7.isActive">
                   <span *ngIf="currentWindowWidth >= 700"> My Profile </span>
                   <i *ngIf="currentWindowWidth < 700" class="fa fa-address-card" style="font-size: 20px;"></i>
               </a> -->


                <!-- <a *ngIf="checkStorage()" mat-tab-link (click)="logOut()">
                   <span *ngIf="currentWindowWidth >= 700"> Log Out </span>
                   <i *ngIf="currentWindowWidth < 700" class="fa fa-pencil" style="font-size: 20px;"></i>
               </a> -->
            </nav>
        </header>
        <div style="padding-top: 49px;"></div>
        <router-outlet></router-outlet>
        <footer *ngIf="router.url !== '/table' && router.url !== '/map'" id="footer">
            <nav>
                <div [fxLayout]="currentWindowWidth < 775 ? 'column' : 'row'" fxLayoutAlign="space-around start" class="bottom-bar top-box">
                    <div class="footer-icons-logos" [class.col]="currentWindowWidth < 775">
                        <div style="display: flex; margin-right: 20px;">
                            <a style="flex-shrink: 0; width: 40px; height: 40px" target="_blank" href="https://www.facebook.com/thedatagrid">
                                <svg fill="white" class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium MuiBox-root css-1om0hkc" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="FacebookIcon"><path d="M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2m13 2h-2.5A3.5 3.5 0 0 0 12 8.5V11h-2v3h2v7h3v-7h3v-3h-3V9a1 1 0 0 1 1-1h2V5z"></path></svg>
                            </a>
                            <a style="flex-shrink: 0; width: 40px; height: 40px" target="_blank" href="https://www.instagram.com/thedatagrid/">
                                <svg fill="white" class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium MuiBox-root css-1om0hkc" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="InstagramIcon"><path d="M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6m9.65 1.5a1.25 1.25 0 0 1 1.25 1.25A1.25 1.25 0 0 1 17.25 8 1.25 1.25 0 0 1 16 6.75a1.25 1.25 0 0 1 1.25-1.25M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3z"></path></svg>
                            </a>
                            <a style="flex-shrink: 0; width: 40px; height: 40px" target="_blank" href="https://www.linkedin.com/company/the-data-grid/">
                                <svg fill="white" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="LinkedInIcon" tabindex="-1" title="LinkedIn"><path d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z"></path></svg>
                            </a>
                            <a style="flex-shrink: 0; width: 40px; height: 40px" target="_blank" href="https://github.com/The-Data-Grid/The-Data-Grid">
                                <svg fill="white" class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium MuiBox-root css-1om0hkc" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="GitHubIcon"><path d="M12 1.27a11 11 0 00-3.48 21.46c.55.09.73-.28.73-.55v-1.84c-3.03.64-3.67-1.46-3.67-1.46-.55-1.29-1.28-1.65-1.28-1.65-.92-.65.1-.65.1-.65 1.1 0 1.73 1.1 1.73 1.1.92 1.65 2.57 1.2 3.21.92a2 2 0 01.64-1.47c-2.47-.27-5.04-1.19-5.04-5.5 0-1.1.46-2.1 1.2-2.84a3.76 3.76 0 010-2.93s.91-.28 3.11 1.1c1.8-.49 3.7-.49 5.5 0 2.1-1.38 3.02-1.1 3.02-1.1a3.76 3.76 0 010 2.93c.83.74 1.2 1.74 1.2 2.94 0 4.21-2.57 5.13-5.04 5.4.45.37.82.92.82 2.02v3.03c0 .27.1.64.73.55A11 11 0 0012 1.27"></path></svg>
                            </a>
                        </div>
                        <img src="./assets/textLogoWhite.png" alt="TDG logo" style="height: 35px; margin-top: 6px;">

                    </div>
                    <div class="bottom-card" [class.mobilebottom]="currentWindowWidth < 775">
                        <button mat-button matTooltip="Copy Email" (click)="copyEmail()"
                            style="text-align: left; width: 200px;">
                            <div>
                                <a class="bot-text"
                                    style="vertical-align: middle; margin-left: -14px;">info@thedatagrid.org</a>
                            </div>
                        </button>
                    </div>
                </div>
            </nav>
        </footer>
    </div>
</body>