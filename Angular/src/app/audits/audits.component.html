<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Audits</title>
</head>

<body>
    <mat-sidenav-container class="sidenav-container">
        <mat-sidenav class="sidenav" mode="side" opened>
            <!-- Filter -->
            <mat-form-field >
                <input id="search-bar" matInput (keyup)="applyFilter($event.target.value)" placeholder="Search">
            </mat-form-field>
            <mat-form-field>
                <mat-label>Audit Type</mat-label>
                <mat-select [(ngModel)]="selectedType">
                    <mat-option *ngFor="let type of types" [value]="type.value">
                        {{type.viewValue}}
                    </mat-option>
                </mat-select>
            </mat-form-field>
            <mat-form-field>
                <mat-label>Date Conducted</mat-label>
                <input #datepicker matInput [matDatepicker]="picker" (dateInput)="applyDateFilter($event.target.value)" >
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
              </mat-form-field>
              <button mat-button (click)="clearFilters()">CLEAR FILTERS</button>
        </mat-sidenav>

        <mat-sidenav-content class="sidenav-content">
            <div *ngIf="selectedType === 'water'" id="audit-table-container" class="mat-elevation-z4">
                <mat-table id="audit-table" [dataSource]="dataSource" matSort matSortActive="seqNo"
                    matSortDirection="asc" matSortDisableClear>

                    <ng-container matColumnDef="GPF">
                        <mat-header-cell *matHeaderCellDef mat-sort-header>GPF</mat-header-cell>
                        <mat-cell *matCellDef="let entry">{{entry.gpf}}</mat-cell>
                    </ng-container>

                    <ng-container matColumnDef="Flushometer Brand">
                        <mat-header-cell *matHeaderCellDef mat-sort-header>Flushometer Brand</mat-header-cell>
                        <mat-cell *matCellDef="let entry">{{entry.flushometerBrand}}</mat-cell>
                    </ng-container>

                    <ng-container matColumnDef="Basin Brand">
                        <mat-header-cell *matHeaderCellDef mat-sort-header>Basin Brand</mat-header-cell>
                        <mat-cell *matCellDef="let entry">{{entry.basinBrand}}</mat-cell>
                    </ng-container>

                    <ng-container matColumnDef="ADA Stall">
                        <mat-header-cell *matHeaderCellDef mat-sort-header>ADA Stall</mat-header-cell>
                        <mat-cell *matCellDef="let entry">{{entry.ADAstall}}</mat-cell>
                    </ng-container>

                    <ng-container matColumnDef="Basin Condition ID">
                        <mat-header-cell *matHeaderCellDef mat-sort-header>Basin Condition ID</mat-header-cell>
                        <mat-cell *matCellDef="let entry">{{entry.basinConditionID}}</mat-cell>
                    </ng-container>

                    <ng-container matColumnDef="Flushometer Condition ID">
                        <mat-header-cell *matHeaderCellDef mat-sort-header>Flushometer Condition ID</mat-header-cell>
                        <mat-cell *matCellDef="let entry">{{entry.flushometerConditionID}}</mat-cell>
                    </ng-container>

                    <ng-container matColumnDef="Comment">
                        <mat-header-cell *matHeaderCellDef mat-sort-header>Comment</mat-header-cell>
                        <mat-cell *matCellDef="let entry">{{entry.comment}}</mat-cell>
                    </ng-container>

                    <ng-container matColumnDef="Date Conducted">
                        <mat-header-cell *matHeaderCellDef mat-sort-header>Date Conducted</mat-header-cell>
                        <mat-cell *matCellDef="let entry">{{entry.dateConducted}}</mat-cell>
                        <!-- if using epoch time: {{entry.dateConducted | date: 'shortDate'}} -->
                    </ng-container>

                    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                    <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>

                </mat-table>
                <!-- paginator -->
                <mat-paginator id="table-paginator" [pageSizeOptions]="pageSizeOptions" showFirstLastButtons>
                </mat-paginator>
            </div>
        </mat-sidenav-content>
    </mat-sidenav-container>
</body>

</html>